const ctx=document.getElementById("myChart").getContext("2d"),data={labels:["Хмельницька","Вінницька","Черкаська","Полтавська","Київська","Івано-Франківська"],datasets:[{label:"Відсотки:",data:[17,12,19,20,15,17],backgroundColor:["rgba(56, 126, 224, 1)","rgba(224, 75, 56, 1)","rgba(253, 188, 10, 1)","rgba(189, 224, 56, 1)","rgba(255, 151, 78, 1)","rgba(56, 215, 224, 1)"],borderWidth:0,hoverOffset:10}]},imageUrl="../images/TK-Logo.svg",config={type:"doughnut",data:data,options:{layout:{padding:{left:10,right:10,top:0,bottom:0}},cutout:"40%",responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}},plugins:[{afterDatasetsDraw(t){const{ctx:e,chartArea:{top:a,bottom:n,left:o,right:d,width:s,height:i}}=t;e.save(),e.font="bold 12px sans-serif",e.textAlign="center",e.textBaseline="middle",t.data.datasets.forEach(((a,n)=>{t.getDatasetMeta(n).data.forEach(((t,n)=>{const{x:o,y:d}=t.tooltipPosition();e.fillStyle="rgb(20, 20, 15)",e.fillText(a.data[n]+"%",o,d)}))}));const r=new Image;r.src=imageUrl,r.onload=function(){const t=(o+d)/2,s=(a+n)/2;e.drawImage(r,t-25,s-25,50,50)},e.restore()}}]},myChart=new Chart(ctx,config);let sample,indexHover,gettoList=document.querySelector(".left_getto");for(let t=0;t<data.labels.length;t++)sample=`<div class="hover_elem" data-index="${t}">\n                <p>${data.labels[t]}</p>\n                <p>${data.datasets[0].data[t]}%<span style="background:${data.datasets[0].backgroundColor[t]}"></span></p>\n              </div>`,gettoList.insertAdjacentHTML("beforeend",sample);function activateSegment(t){indexHover=t,myChart.setActiveElements([{datasetIndex:0,index:t}]),myChart.update()}function deactivateSegment(t){myChart.setActiveElements([{datasetIndex:-1,index:0}]),myChart.update()}document.querySelectorAll(".hover_elem").forEach((function(t){t.addEventListener("mousemove",(function(){activateSegment(t.getAttribute("data-index")),t.classList.add("active")})),t.addEventListener("mouseleave",(function(){deactivateSegment(),t.classList.remove("active")}))}));